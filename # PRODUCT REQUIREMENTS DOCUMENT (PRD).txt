# PRODUCT REQUIREMENTS DOCUMENT (PRD)
## Project Name: GC Toxic Shield (V2)
**Brand Identity:** GC Net Security Suite
**Version:** 2.0.0 (Production Grade)
**Target OS:** Windows 10/11 x64
**Hardware Focus:** Ryzen 3 3200G / Ryzen 5 3400G (Optimized for Integrated Graphics)

---

## 1. Project Overview
GC Toxic Shield adalah aplikasi moderasi suara real-time untuk internet cafe (GC Net). Sistem ini memantau input mikrofon secara lokal untuk mendeteksi kata-kata kasar/toxic. Jika ditemukan kecocokan langsung dengan database, sistem akan memicu tindakan preventif berupa peringatan visual atau penguncian layar total (Lockdown).

---

## 2. Technical Stack
- **STT Core:** `faster-whisper` 
- **Official Repository:** [SYSTRAN/faster-whisper](https://github.com/SYSTRAN/faster-whisper)
- **Inference Engine:** `CTranslate2` dengan **INT8 Quantization** (Wajib untuk efisiensi CPU).
- **Audio Gate:** `Silero VAD` (Voice Activity Detection) melalui `torch` atau library pendukung untuk meminimalkan beban CPU.
- **UI Framework:** `CustomTkinter` (Modern & Dark Mode).
- **System API:** `pywin32` (Untuk registry startup & input blocking).

---

## 3. Key Functional Modules

### A. Non-Stop Audio Engine (T1)
- **Continuous Stream:** Menangkap audio mikrofon secara real-time tanpa jeda.
- **VAD Logic:** AI Whisper hanya bekerja saat ada frekuensi suara manusia. Noise lingkungan (keyboard/kipas) harus diabaikan oleh VAD.
- **Model Loading:** Mengacu pada implementasi `SYSTRAN/faster-whisper` untuk pemuatan model secara lokal.

### B. Direct Match Detection (T4)
- **Mechanism:** Strict Exact Matching.
- **Logic:** `if bad_word.lower() in stt_result.lower(): trigger_action()`.
- **Constraint:** Dilarang menggunakan fuzzy matching untuk menghemat resource dan menghindari kesalahan deteksi.

### C. Self-Cleaning Monitor (T3)
- **Real-time Feed:** Transkripsi muncul di dashboard admin sebagai "Live Monitor".
- **Volatile Storage:** Transkripsi yang tidak melanggar aturan hanya disimpan di memori sementara (Buffer).
- **Auto-Purge:** Setiap 60 detik, sistem wajib menghapus (wipe) semua transkripsi non-toxic dari memori dan tampilan UI.
- **Persistent Log:** Hanya transkripsi yang mengandung kata kotor yang disimpan secara permanen ke `logs/toxic_incidents.csv`.

### D. Security & Lockdown Overlay (T5)
- **Levels:** Support 1-12 level peringatan progresif.
- **Enforcement:** Overlay fullscreen yang tidak bisa ditembus oleh Alt+Tab atau Windows Key (melalui WinAPI).
- **Admin Privilege:** Aplikasi harus selalu berjalan dengan hak akses Administrator.

---

## 4. Logical Workflow

1. **Start:** GC Toxic Shield Launch -> Load Registry -> Check Admin.
2. **Init:** Load `faster-whisper` model (size: tiny/base) with `compute_type="int8"`.
3. **Stream:** Mic Input -> VAD Filter (Silero).
4. **Process:** If Voice Detected -> Transcribe via Faster-Whisper -> Check Wordlist.
5. **Action:** If Match Found -> Log Incident -> Show Lockdown Overlay.
6. **Maintenance:** Every 60s -> Clear non-toxic history from UI and Memory.

---

## 5. Strict Rules for Coding Agent (Antigravity)

1. **RULE #1 (Model Source):** Wajib menggunakan library dari repository `SYSTRAN/faster-whisper`.
2. **RULE #2 (Efficiency):** Wajib menggunakan `compute_type="int8"`. Program tidak boleh mengganggu FPS game yang sedang dimainkan user di PC Ryzen APU.
3. **RULE #3 (Offline):** Dilarang keras menggunakan koneksi internet untuk proses STT. Semua proses wajib lokal (on-device).
4. **RULE #4 (Self-Healing):** Jika thread audio mengalami error, sistem harus mencoba inisialisasi ulang (re-init) secara otomatis setiap 5 detik.
5. **RULE #5 (Privacy):** Implementasikan fungsi `purge_logs` secara ketat tiap 60 detik. Data suara yang "aman" tidak boleh ada jejaknya di storage permanen.
6. **RULE #6 (Deployment):** Sediakan script untuk auto-start via Windows Registry dan manifest untuk Auto-Admin.

---
**End of Document**